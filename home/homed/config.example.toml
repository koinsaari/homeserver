# Photos pipeline: Nextcloud uploads → EXIF rename → date folders → occ scan
[photos.watcher]
paths = ["/var/lib/nextcloud/data/USERNAME/files/Photos/Camera"]
debounce_ms = 5000

[photos.organizer]
enabled = true
photos_dir = "/var/lib/nextcloud/data/USERNAME/files/Photos"
photo_prefix = "IMG"
video_prefix = "VID"
photo_extensions = ["jpg", "jpeg", "png", "heic", "heif", "webp", "raw", "cr2", "nef", "arw", "dng"]
video_extensions = ["mp4", "mov", "avi", "mkv", "m4v", "3gp", "webm"]
file_owner = "www-data"
file_group = "www-data"
min_valid_year = 2000

[photos.nextcloud]
enabled = true
container_name = "nextcloud"
username = "USERNAME"
data_dir = "/var/lib/nextcloud/data/USERNAME/files/Photos"
internal_prefix = "/USERNAME/files/Photos"

# Media pipeline: post-import guard on library directories
[media.watcher]
paths = ["/mnt/wd/media/Movies", "/mnt/wd/media/TV"]
debounce_ms = 5000
ignore_extensions = ["!qb", "part"]

[media.scanner]
quarantine_dir = "/mnt/wd/media/quarantine"
allowed_extensions = ["mkv", "mp4", "mov", "webm", "flac", "mp3", "m4a", "epub", "pdf", "srt", "ass"]
block_executables = true
delete_junk = true
junk_extensions = ["nfo", "txt", "jpg", "jpeg", "png"]

# Alerts: push notifications via ntfy
[alerts]
enabled = true
url = "https://ntfy.example.com"
topic = "homed"
token = "YOUR_NTFY_TOKEN"
